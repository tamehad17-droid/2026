# ๐ ููุฎุต ุงูุชุญุฏูุซุงุช ุงูููุงุฆู - PromoHive

## โ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ ูู ุงูููุฏ:

### 1. ุชุญููู ุงููุบุฉ ุฅูู ุงูุฅูุฌููุฒูุฉ ๐

#### ุงููููุงุช ุงูููุญุฏุซุฉ:

| ุงูููู | ุงูุชุบููุฑ |
|------|---------|
| `supabase/functions/send-verification-email/index.ts` | โ ุชู ุชุญููู ูู ุงููุตูุต ุฅูู ุงูุฅูุฌููุฒูุฉ |
| `supabase/functions/send-notification-email/index.ts` | โ ุชู ุชุญููู ุฌููุน ุฃููุงุน ุงูุฅุดุนุงุฑุงุช |

### 2. ุฅุตูุงุญ ุฎุทุฃ ุงูุชุณุฌูู ๐ง

#### ุงููุดููุฉ:
```
Error: Database error saving new user
```

#### ุงูุณุจุจ:
- ุงูู trigger ูุงู ูููุตู ุฃุนูุฏุฉ ูุทููุจุฉ: `referral_code`, `level`, `welcome_bonus_used`

#### ุงูุญู:
- ููู Migration ุฌุฏูุฏ: `supabase/migrations/20241030240001_fix_user_registration_trigger.sql`

---

## ๐ฏ ูุง ูุฌุจ ูุนูู ุงูุขู:

### โก ุงูุฅุตูุงุญ ุงูุณุฑูุน (3 ุฏูุงุฆู):

#### ุงูุฎุทูุฉ 1: ุชุทุจูู SQL Fix

1. ุงูุชุญ: https://supabase.com/dashboard/project/jtxmijnxrgcwjvtdlgxy/sql/new

2. ุงูุณุฎ ูุงูุตู ูู ููู: **`ONE_CLICK_COPY.txt`**

3. ุงุถุบุท **Run**

โ **ุงููุชูุฌุฉ:** ุฎุทุฃ "Database error saving new user" ูุญููู!

---

### ๐ ุงูุชุญุฏูุซุงุช ุงูุฅุถุงููุฉ (ุงุฎุชูุงุฑู - 5 ุฏูุงุฆู):

#### ุงูุฎุทูุฉ 2: ุฑูุน Edge Functions (ุงูุฅููููุงุช ุงูุฅูุฌููุฒูุฉ)

**ุงูุทุฑููุฉ A: Supabase CLI**
```bash
cd /workspace/promohive
supabase functions deploy send-verification-email
supabase functions deploy send-notification-email
```

**ุงูุทุฑููุฉ B: Dashboard (ูุฏูู)**
1. ุงูุชุญ: https://supabase.com/dashboard/project/jtxmijnxrgcwjvtdlgxy/functions
2. ุฃูุดุฆ/ุนุฏูู ุงูุฏุงูุงุช ุจูุณุฎ ุงูููุฏ ูู:
   - `supabase/functions/send-verification-email/index.ts`
   - `supabase/functions/send-notification-email/index.ts`

---

#### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ RESEND_API_KEY

โ๏ธ **ูุทููุจ ูุฅุฑุณุงู ุงูุฅููููุงุช:**

1. ุงุญุตู ุนูู API Key ูู: https://resend.com/api-keys (ูุฌุงูู)

2. ุฃุถูู ูู Supabase:
   - ุงูุชุญ: https://supabase.com/dashboard/project/jtxmijnxrgcwjvtdlgxy/settings/functions
   - ูุณู "Secrets" โ Add new secret
   - Name: `RESEND_API_KEY`
   - Value: [ุงูููุชุงุญ ูู Resend]

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ ูููุณุงุนุฏุฉ:

| ุงูููู | ุงููุตู |
|------|-------|
| `APPLY_FIX_NOW.md` | ุฏููู ุฎุทูุฉ ุจุฎุทูุฉ |
| `ONE_CLICK_COPY.txt` | ูุณุฎ ููุตู ุณุฑูุน |
| `DEPLOYMENT_GUIDE_AR.md` | ุฏููู ุงููุดุฑ ุงููุงูู |
| `QUICK_COPY_PASTE.txt` | ุฑูุงุจุท ูุฃููุงุฏ ุฌุงูุฒุฉ |
| `HOW_TO_GET_SERVICE_KEY.md` | ููููุฉ ุงูุญุตูู ุนูู ุงูููุงุชูุญ |

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู:

### ุงุฎุชุจุงุฑ ุงูุชุณุฌูู:
1. โ ุงูุชุญ ุชุทุจููู
2. โ ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ ุจุฅูููู ุฌุฏูุฏ
3. โ ูุฌุจ ุฃู ูุนูู ุจุฏูู ุฎุทุฃ
4. โ (ุฅุฐุง ุฑูุนุช Edge Functions) ูุฌุจ ุฃู ูุตู ุจุฑูุฏ ุงูุชุญูู ุจุงูุฅูุฌููุฒูุฉ

---

## ๐ ุงูุญุงูุฉ ุงูููุงุฆูุฉ:

### โ ููุชูู:
- [x] ุชุญููู ุงููุตูุต ุฅูู ุงูุฅูุฌููุฒูุฉ ูู ุงูููุฏ
- [x] ุฅูุดุงุก SQL migration ูุฅุตูุงุญ ุงูุชุณุฌูู
- [x] ุชูุซูู ุดุงูู ูุฃุฏูุฉ ูุณุงุนุฏุฉ

### โณ ูุญุชุงุฌ ุชุทุจูู ูุฏูู:
- [ ] ุชูููุฐ SQL migration (3 ุฏูุงุฆู)
- [ ] ุฑูุน Edge Functions (5 ุฏูุงุฆู - ุงุฎุชูุงุฑู)
- [ ] ุฅุถุงูุฉ RESEND_API_KEY (2 ุฏูููุฉ - ุงุฎุชูุงุฑู)

---

## ๐ ุงูุฏุนู:

### ุฅุฐุง ูุงุฌูุช ูุดููุฉ:

1. **ุฎุทุฃ ูู SQL:**
   - ุชุฃูุฏ ูู ูุณุฎ ุงูููุฏ ูุงููุงู
   - ุชุญูู ูู ุฃูู ูู ุงูู project ุงูุตุญูุญ

2. **Edge Functions ูุง ุชุนูู:**
   - ุชุฃูุฏ ูู ุฅุถุงูุฉ `RESEND_API_KEY`
   - ุชุญูู ูู Logs: https://supabase.com/dashboard/project/jtxmijnxrgcwjvtdlgxy/logs/edge-functions

3. **ูุดุงูู ุฃุฎุฑู:**
   - ุฃุฑุณู screenshot ูู Console
   - ุฃุฑุณู ุฑุณุงูุฉ ุงูุฎุทุฃ ูุงููุฉ

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

ุจุนุฏ ุชุทุจูู ุงูุฎุทูุฉ 1 ููุท:
- โ ุงูุชุทุจูู ูุนูู ุจุงูุฅูุฌููุฒูุฉ
- โ ุงูุชุณุฌูู ูุนูู ุจุฏูู ุฃุฎุทุงุก
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ
- โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-10-30  
**ุงูุฅุตุฏุงุฑ:** 2.0 (Full English Version)
